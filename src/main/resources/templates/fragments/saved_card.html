<th:block th:fragment="repoCardFragment(repo)">
    <div class="repo-card" th:attr="data-repo-id=${repo.repoGithubId}">
        <div class="repo-card__header">
            <a th:href="${repo.htmlUrl}" target="_blank" class="repo-card__title" th:text="${repo.name}">λ ν¬μ§€ν† λ¦¬ μ΄λ¦„</a>
            <div class="repo-card__actions">
                <form th:action="@{/users/saved/repos/pin/{repoGithubId}(repoGithubId=${repo.repoGithubId})}"
                      method="post">
                    <input type="hidden" name="isPinned" th:value="${!repo.isPinned}">
                    <button type="submit" class="btn btn--pin">
                        <img th:src="@{/images/pin.svg}" alt="κ³ μ •">
                    </button>
                </form>
                <button type="button" class="btn btn--toggle">
                    <span class="toggle-label">μμ„Έν λ³΄κΈ°</span>
                    <span class="arrow">β–²</span>
                </button>
                <form th:action="@{/users/saved/repos/delete/{repoGithubId}(repoGithubId=${repo.repoGithubId})}"
                      method="post">
                    <button type="submit" class="btn btn--delete">μ‚­μ </button>
                </form>
            </div>
        </div>

        <p class="repo-card__description" th:text="${repo.description}">λ ν¬μ§€ν† λ¦¬ μ„¤λ…</p>

        <div class="repo-card__meta">
            <span th:text="'β­ ' + ${repo.stars}">β­ 0</span>
            <span th:text="'π΄ ' + ${repo.forks}">π΄ 0</span>
            <span th:text="${repo.languageMain}">μ–Έμ–΄</span>
            <span th:if="${repo.updatedAt != null}" th:text="'μ—…λ°μ΄νΈ: ' + ${#temporals.format(repo.updatedAt, 'yyyy-MM-dd')}">μ—…λ°μ΄νΈ λ‚ μ§</span>
        </div>

        <div class="repo-card__readme">
            <h3 class="readme-title">π“ README</h3>
            <div class="readme-content loading collapsed">λ΅λ”© μ¤‘...</div>
        </div>

        <div class="repo-card__memo">
            <form th:action="@{/users/saved/repos/note/{repoGithubId}(repoGithubId=${repo.repoGithubId})}" method="post">
                <textarea name="note" placeholder="λ©”λ¨λ¥Ό μ…λ ¥ν•μ„Έμ”..." th:text="${repo.note}"></textarea>
                <button type="submit" class="btn">λ©”λ¨ μ €μ¥</button>
            </form>
        </div>
    </div>
</th:block>