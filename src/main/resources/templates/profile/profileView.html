<th:block th:fragment="profileView">
    <div class="profile-page__container">
        <!-- ÌîÑÎ°úÌïÑ Ìó§Îçî (block: profile) -->
        <section class="profile">
            <img class="profile__avatar"
                 th:src="${view.profile.githubAvatarUrl != null ? view.profile.githubAvatarUrl : '/images/github.svg'}"
                 alt="ÌîÑÎ°úÌïÑ Ïù¥ÎØ∏ÏßÄ" />
            <div class="profile__info">
                <h1 th:text="${view.profile.githubName != null ? view.profile.githubName : view.profile.githubLogin}">sample</h1>
                <div class="profile__username" th:text="'@' + ${view.profile.githubLogin}">@sample</div>

                <div class="profile__bio" th:text="${view.profile.githubBio}" th:if="${view.profile.githubBio}">
                    sample ÌÖçÏä§Ìä∏
                </div>

                <div class="profile__stats">
                    <div class="profile__stat">
                        <span class="profile__stat-number" th:text="${view.profile.githubFollowers}">1</span> ÌåîÎ°úÏõå
                    </div>
                    <div class="profile__stat">
                        <span class="profile__stat-number" th:text="${view.profile.githubFollowing}">2</span> ÌåîÎ°úÏûâ
                    </div>
                    <div class="profile__stat">
                        <span class="profile__stat-number" th:text="${view.profile.githubPublicRepos}">18</span> Í≥µÍ∞ú Î†àÌè¨ÏßÄÌÜ†Î¶¨
                    </div>
                </div>

                <div class="profile__links">
                    <a th:href="${view.profile.githubHtmlUrl}" class="profile__link" target="_blank" rel="noreferrer">
                        <img th:src="@{/images/github.svg}" alt="github"> GitHub ÌîÑÎ°úÌïÑ
                    </a>
                    <a th:href="${view.profile.githubBlog != null ? view.profile.githubBlog : '#'}"
                       th:attr="target=${view.profile.githubBlog != '' ? '_blank' : null}"
                       class="profile__link"
                       rel="noreferrer">
                        <img th:src="@{/images/blog.svg}" alt="blog"> Î∏îÎ°úÍ∑∏
                    </a>
                </div>
            </div>
        </section>

        <!-- Í≥µÍ∞ú Î†àÌè¨ÏßÄÌÜ†Î¶¨ (block: repos) -->
        <section class="repos">
            <h2 class="repos__title">
                <div class="repos__title-left">
                    Í≥µÍ∞ú Î†àÌè¨ÏßÄÌÜ†Î¶¨
                    <form th:action="@{/users/profiles/visibility}" method="post" class="profile-visibility">
                        <label class="profile-visibility__switch">
                            <input type="checkbox"
                                   name="profileVisibility"
                                   value="PUBLIC"
                                   th:checked="${view.profile.profileVisibility.name() == 'PUBLIC'}"
                                   onchange="this.form.submit()">
                            <span class="profile-visibility__slider"></span>
                        </label>
                        <span class="profile-visibility__label"
                              th:text="${view.profile.profileVisibility.name() == 'PUBLIC'} ? 'Í≥µÍ∞ú' : 'ÎπÑÍ≥µÍ∞ú'">ÎπÑÍ≥µÍ∞ú</span>
                    </form>
                </div>

                <form th:action="@{/users/profiles/refresh}" method="post" class="profile-refresh">
                    <button type="submit" class="profile-refresh__btn">üîÑ ÏÉàÎ°úÍ≥†Ïπ®</button>
                </form>
            </h2>

            <div class="repos__tabs">
                <a class="repos__tab"
                   th:href="@{/users/profiles(type='all', page=0, size=${view.repos.size})}"
                   th:classappend="${view.currentType == 'all'} ? ' repos__tab--active' : ''">Ï†ÑÏ≤¥</a>
                <a class="repos__tab"
                   th:href="@{/users/profiles(type='original', page=0, size=${view.repos.size})}"
                   th:classappend="${view.currentType == 'original'} ? ' repos__tab--active' : ''">ÏõêÎ≥∏</a>
                <a class="repos__tab"
                   th:href="@{/users/profiles(type='fork', page=0, size=${view.repos.size})}"
                   th:classappend="${view.currentType == 'fork'} ? ' repos__tab--active' : ''">Ìè¨ÌÅ¨</a>
            </div>

            <div class="repos__grid" id="repoGrid">
                <div class="repos__card" th:if="${#lists.isEmpty(view.repos.content)}">
                    Í≥µÍ∞ú Î†àÌè¨ÏßÄÌÜ†Î¶¨Í∞Ä ÏóÜÏäµÎãàÎã§.
                </div>

                <div class="repos__card" th:each="repo : ${view.repos.content}">
                    <span class="badge badge--fork" th:if="${repo.fork}">üç¥ Forked</span>

                    <a class="repos__name" target="_blank" rel="noreferrer"
                       th:href="${repo.htmlUrl}" th:text="${repo.name}">repo-name</a>

                    <p class="repos__desc" th:text="${repo.description} ?: 'ÏÑ§Î™ÖÏù¥ ÏóÜÏäµÎãàÎã§.'">desc</p>

                    <div class="repos__meta">
                        <div class="repos__stat" th:if="${repo.language != null}">
                                <span class="repos__lang-dot"
                                      th:classappend="${' repos__lang-dot--' + #strings.toLowerCase(repo.language)}"></span>
                            <span th:text="${repo.language}">Java</span>
                        </div>

                        <div class="repos__stat">
                            <img th:src="@{/images/star.svg}" alt="star">
                            <span th:text="${repo.stargazersCount}">0</span>
                        </div>

                        <div class="repos__stat">
                            <img th:src="@{/images/git.svg}" alt="gitLog">
                            <span th:text="${repo.forksCount}">0</span>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pager" th:if="${view.repos.totalPages > 1}">
                <a class="pager__btn"
                   th:href="${view.repos.first} ? '#' : @{/users/profiles(type=${view.currentType}, page=${view.repos.number - 1}, size=${view.repos.size})}"
                   th:classappend="${view.repos.first} ? ' pager__btn--disabled'">Ïù¥Ï†Ñ</a>

                <div class="pager__info" th:text="${view.repos.number + 1} + ' / ' + ${view.repos.totalPages}">1 / 1</div>

                <a class="pager__btn"
                   th:href="${view.repos.last} ? '#' : @{/users/profiles(type=${view.currentType}, page=${view.repos.number + 1}, size=${view.repos.size})}"
                   th:classappend="${view.repos.last} ? ' pager__btn--disabled'">Îã§Ïùå</a>
            </div>
        </section>
    </div>
</th:block>