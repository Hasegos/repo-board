<!doctype html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>RepoBoard ¬∑ ÌîÑÎ°úÌïÑ</title>
</head>
<body>
    <th:block th:fragment="profileView">
        <div class="profile-page__container">
            <!-- ÌîÑÎ°úÌïÑ Ìó§Îçî (block: profile) -->
            <section class="profile">
                <img class="profile__avatar"
                     th:src="${profile.avatarUrl != null ? profile.avatarUrl : '/images/github.svg'}"
                     alt="ÌîÑÎ°úÌïÑ Ïù¥ÎØ∏ÏßÄ" />
                <div class="profile__info">
                    <h1 th:text="${profile.name != null ? profile.name : profile.login}">sample</h1>
                    <div class="profile__username" th:text="'@' + ${profile.login}">@sample</div>

                    <div class="profile__bio" th:text="${profile.bio}" th:if="${profile.bio}">
                        sample ÌÖçÏä§Ìä∏
                    </div>

                    <div class="profile__stats">
                        <div class="profile__stat">
                            <span class="profile__stat-number" th:text="${profile.followers}">1</span> ÌåîÎ°úÏõå
                        </div>
                        <div class="profile__stat">
                            <span class="profile__stat-number" th:text="${profile.following}">2</span> ÌåîÎ°úÏûâ
                        </div>
                        <div class="profile__stat">
                            <span class="profile__stat-number" th:text="${profile.publicRepos}">18</span> Í≥µÍ∞ú Î†àÌè¨ÏßÄÌÜ†Î¶¨
                        </div>
                    </div>

                    <div class="profile__links">
                        <a th:href="${profile.htmlUrl}" class="profile__link" target="_blank" rel="noreferrer">
                            <img th:src="@{/images/github.svg}" alt="github"> GitHub ÌîÑÎ°úÌïÑ
                        </a>
                        <a th:href="${profile.blog != null ? profile.blog : '#'}"
                           th:attr="target=${profile.blog != '' ? '_blank' : null}"
                           class="profile__link"
                           rel="noreferrer">
                            <img th:src="@{/images/blog.svg}" alt="blog"> Î∏îÎ°úÍ∑∏
                        </a>
                    </div>
                </div>
            </section>

            <!-- Í≥µÍ∞ú Î†àÌè¨ÏßÄÌÜ†Î¶¨ (block: repos) -->
            <section class="repos">
                <h2 class="repos__title">Í≥µÍ∞ú Î†àÌè¨ÏßÄÌÜ†Î¶¨</h2>

                <div class="repos__tabs">
                    <a class="repos__tab"
                       th:href="@{/users/profiles(type='all', page=0, size=${repos.size})}"
                       th:classappend="${currentType == 'all'} ? ' repos__tab--active' : ''">Ï†ÑÏ≤¥</a>
                    <a class="repos__tab"
                       th:href="@{/users/profiles(type='original', page=0, size=${repos.size})}"
                       th:classappend="${currentType == 'original'} ? ' repos__tab--active' : ''">ÏõêÎ≥∏</a>
                    <a class="repos__tab"
                       th:href="@{/users/profiles(type='fork', page=0, size=${repos.size})}"
                       th:classappend="${currentType == 'fork'} ? ' repos__tab--active' : ''">Ìè¨ÌÅ¨</a>
                </div>

                <div class="repos__grid" id="repoGrid">
                    <div class="repos__card" th:if="${#lists.isEmpty(repos.content)}">
                        Í≥µÍ∞ú Î†àÌè¨ÏßÄÌÜ†Î¶¨Í∞Ä ÏóÜÏäµÎãàÎã§.
                    </div>

                    <div class="repos__card" th:each="repo : ${repos.content}">
                        <span class="badge badge--fork" th:if="${repo.fork}">üç¥ Forked</span>

                        <a class="repos__name" target="_blank" rel="noreferrer"
                           th:href="${repo.htmlUrl}" th:text="${repo.name}">repo-name</a>

                        <p class="repos__desc" th:text="${repo.description} ?: 'ÏÑ§Î™ÖÏù¥ ÏóÜÏäµÎãàÎã§.'">desc</p>

                        <div class="repos__meta">
                            <div class="repos__stat" th:if="${repo.language != null}">
                                    <span class="repos__lang-dot"
                                          th:classappend="${' repos__lang-dot--' + #strings.toLowerCase(repo.language)}"></span>
                                <span th:text="${repo.language}">Java</span>
                            </div>

                            <div class="repos__stat">
                                <img th:src="@{/images/star.svg}" alt="star">
                                <span th:text="${repo.stargazersCount}">0</span>
                            </div>

                            <div class="repos__stat">
                                <img th:src="@{/images/git.svg}" alt="gitLog">
                                <span th:text="${repo.forksCount}">0</span>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="pager" th:if="${repos.totalPages > 1}">
                    <a class="pager__btn"
                       th:href="${repos.first} ? '#' : @{/users/profiles(type=${currentType}, page=${repos.number - 1}, size=${repos.size})}"
                       th:classappend="${repos.first} ? ' pager__btn--disabled'">Ïù¥Ï†Ñ</a>

                    <div class="pager__info" th:text="${repos.number + 1} + ' / ' + ${repos.totalPages}">1 / 1</div>

                    <a class="pager__btn"
                       th:href="${repos.last} ? '#' : @{/users/profiles(type=${currentType}, page=${repos.number + 1}, size=${repos.size})}"
                       th:classappend="${repos.last} ? ' pager__btn--disabled'">Îã§Ïùå</a>
                </div>
            </section>
        </div>
    </th:block>
</body>
</html>